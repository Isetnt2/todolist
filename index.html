<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Todo List</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="/style.css" class="theme">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    <script src="https://cdn.rawgit.com/blowsie/Pure-JavaScript-HTML5-Parser/master/htmlparser.js"></script>
    <script src="html2json.js"></script>
  </head>
  <body>
      <i class="far fa-sun sun"></i>
      <i class="fas fa-info info"></i>
      <div class="modal">
      <div class="modal-content">
        <div class="window mac">
          <div class="title-bar">
            <div class="close" id="close"></div>
            <div class="minimize"></div>
            <div class="zoom"></div>
          </div>
          <div class="page"><span class="message">My personal website:<a class="message" href="https://kennyd.cf" target="_blank">https://kennyd.cf</a></span></div>
        </div>
        </div>
    </div>
  <div class="window mac">
  <div class="title-bar">
    <div class="close" id="close"></div>
    <div class="minimize"></div>
    <div class="zoom"></div>
  </div>
  <div class="page"><input class="todo-input" type="text" onkeypress="return windowCreator(todofield.value)" placeholder="Type Here"></div>
</div>
    <div id="todoList" class="list-group todoList">
    </div>
   <div data-netlify-identity-button class="login-button"></div>
   <script src="https://s3.amazonaws.com/stitch-sdks/js/bundles/4.3.0/stitch.js"></script>
<script>
  const client = stitch.Stitch.initializeDefaultAppClient('');

  const db = client.getServiceClient(stitch.RemoteMongoClient.factory, 'mongodb-atlas').db('users');

  client.auth.loginWithCredential(new stitch.AnonymousCredential()).then(user =>
    db.collection('todo-data').updateOne({owner_id: client.auth.user.id}, {$set:{number:42}}, {upsert:true})
  ).then(() =>
    db.collection('todo-data').find({owner_id: client.auth.user.id}, { limit: 100}).asArray()
  ).then(docs => {
      console.log("Found docs", docs)
      console.log("[MongoDB Stitch] Connected to Stitch")
  }).catch(err => {
    console.error(err)
  });
</script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/cookie-bar/cookiebar-latest.min.js?always=1&noGeoIp=1&showNoConsent=1&remember=30"></script>    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/cookie-bar/cookiebar-latest.min.js?theme=altblack&always=1&noGeoIp=1&remember=360000000000"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
    <script src="/Sortable.js"></script>
    <script src="/script.js" defer></script>
  </body>
</html>
